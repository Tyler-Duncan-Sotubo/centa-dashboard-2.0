@import "tailwindcss";
@import "./tw-animate.css";

@custom-variant dark (&:is(.dark *));

@theme {
  --text-md: 0.9rem;
  --text-xmd: 1rem;
  --text-lg: 1.1rem;
  --text-xl: 1.125rem;

  --color-monzo-error: #fe4b60;
  --color-monzo-brand: #00626f;
  --color-monzo-brandDark: #00626f;
  --color-monzo-success: #047857;
  --color-monzo-monzoGreen: #4bb78f;
  --color-monzo-monzoOrange: #f1bd76;
  --color-monzo-background: #001e3a;
  --color-monzo-primary: #14233c;
  --color-monzo-secondary: #ffb54d;
  --color-monzo-innerBg: #868e9c67;
  --color-monzo-textPrimary: #f6f7fb;
  --color-monzo-textSecondary: #8e8e93;

  --color-custom-blue: #226db4;
  --color-sidebar: #f1f4f9;
  --color-brand: #007a8b;
  --color-brandDark: #00626f;
  --color-success: #047857;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-textPrimary: #111827;
  --color-textSecondary: #6b7280;
  --color-textDisabled: #9ca3af;
  --color-textInverse: #ffffff;
  --color-background: #e5e7eb;
  --color-divider: #e5e7eb;
  --color-border: #d1d5db;
  --color-buttonPrimary: #3b5bcc;
  --color-buttonPrimaryHover: #4d70f9;
  --color-buttonSecondary: #e5e7eb;
  --color-buttonSecondaryHover: #d1d5db;
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-ball-1: wave 1s ease-in-out infinite;
  --animate-ball-2: wave 1s ease-in-out infinite 0.15s;
  --animate-ball-3: wave 1s ease-in-out infinite 0.3s;
  --animate-ball-4: wave 1s ease-in-out infinite 0.45s;
  --animate-spin-slow: spin 1s linear infinite;
  --animate-grow-up: grow-up 0.3s ease-out;
  --animate-_animate-loading-line: loading-line 1.5s infinite linear;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes wave {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  @keyframes grow-up {
    0% {
      opacity: 0;
      transform: scale(0.6) translateY(20px);
    }
    100% {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
  @keyframes loading-line {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility text-balance {
  text-wrap: balance;
}

@layer utilities {
  :root {
    --font-body: var(--font-nunito);
  }

  body {
    font-family: var(--font-body), sans-serif;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 240 5.9% 10%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 240 10% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  :root {
    --chart-1: 253, 72%, 44%;
    --chart-2: 225, 50%, 45%;
    --chart-3: 197, 50%, 30%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  @keyframes rotate-one {
    0% {
      transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);
    }
    100% {
      transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);
    }
  }

  @keyframes rotate-two {
    0% {
      transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);
    }
    100% {
      transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);
    }
  }

  @keyframes rotate-three {
    0% {
      transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);
    }
    100% {
      transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);
    }
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* hide scrollbars but keep scrolling */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
}

/* Change dot color */
.announcement-swiper .swiper-pagination-bullet {
  background: #ccc !important;
  opacity: 1 !important;
}

.announcement-swiper .swiper-pagination-bullet-active {
  background: #1abc9c !important; /* Monzo green or your brand color */
}

/* Style navigation buttons */
.announcement-swiper .swiper-button-next,
.announcement-swiper .swiper-button-prev {
  color: #1abc9c;
  background: white;
  border-radius: 50%;
  padding: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

.announcement-swiper .swiper-button-next:hover,
.announcement-swiper .swiper-button-prev:hover {
  background: #f0f0f0;
}

/* TitTap Editor Design */
.ProseMirror {
  padding: 10px;
  border-top: 1px solid grey;
  background: white;
  border-radius: 0 0 5px 5px;
  min-height: 300px;
}
.ProseMirror:focus {
  border: none;
  outline: 1px solid black;
}

.ProseMirror > * + * {
  margin-top: 0.75em;
}

.ProseMirror ul,
.ProseMirror ol {
  padding: 0 2rem;
}

.ProseMirror h1,
.ProseMirror h2,
.ProseMirror h3,
.ProseMirror h4,
.ProseMirror h5,
.ProseMirror h6 {
  line-height: 1.1;
}

.ProseMirror code {
  background-color: rgba(#616161, 0.1);
  color: #616161;
}

.ProseMirror pre {
  background: #0d0d0d;
  color: #fff;
  font-family: "JetBrainsMono", monospace;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
}
.ProseMirror code {
  color: inherit;
  padding: 0;
  background: none;
  font-size: 0.8rem;
}

.ProseMirror img {
  max-width: 100%;
  height: auto;
}

.ProseMirror blockquote {
  padding-left: 1rem;
  border-left: 3px solid #999999;
}

.ProseMirror hr {
  border: none;
  border-top: 3px solid #999999;
  margin: 2rem 0;
}

/* ............................ */
.textEditor {
  border-radius: 5px;
  border: 1px solid grey;
}
.menuBar {
  padding-bottom: 5px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.menuBar button {
  font-size: 18px;
  margin: 7px;
  margin-right: 15px;
  outline: none;
  border: none;
  background: none;
  color: rgb(70, 70, 70);
  cursor: pointer;
}
.menuBar button:last-child {
  margin-right: 7px;
}

.heading3 {
  font-size: 15px;
}

button.is_active {
  background: rgb(197, 197, 197);
  padding: 2px 3px;
  border-radius: 2px;
}

.rich-text-viewer p {
  font-size: 18px;
  margin-bottom: 1rem;
  line-height: 1.6;
}

@keyframes grow-up {
  0% {
    opacity: 0;
    transform: scale(0.6) translateY(20px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.animate-grow-up {
  animation: grow-up 0.3s ease-out;
}

.avatar-stack-link:hover,
.avatar-stack-link:focus {
  z-index: 50 !important; /* Or higher than any inline z-index */
}

/* =========================
   driver.js (shadcn look)
   ========================= */

.driver-popover {
  @apply rounded-lg border bg-background text-foreground shadow-lg;
}

.driver-popover-title {
  @apply text-sm font-semibold;
}

.driver-popover-description {
  @apply mt-1 text-sm text-muted-foreground;
}

.driver-popover-footer {
  @apply mt-4 flex items-center justify-between gap-2;
}

.driver-popover-progress-text {
  @apply text-xs text-muted-foreground;
}

/* Base button styles */
.driver-popover button {
  @apply inline-flex items-center justify-center rounded-md px-3 py-2
    text-sm font-medium transition-colors
    focus-visible:outline-none focus-visible:ring-2
    focus-visible:ring-ring focus-visible:ring-offset-2
    disabled:pointer-events-none disabled:opacity-50;
}

.driver-popover .driver-popover-next-btn {
  @apply px-5 py-2.5 text-sm min-h-[44px];
}

.driver-popover .driver-popover-prev-btn,
.driver-popover .driver-popover-close-btn {
  @apply px-4 py-2 text-sm min-h-10;
}

/* Buttons (correct driver.js classnames) */
.driver-popover .driver-popover-next-btn {
  @apply bg-monzo-brandDark text-primary-foreground hover:bg-monzo-brandDark/90;
}

.driver-popover .driver-popover-prev-btn {
  @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
}

.driver-popover .driver-popover-close-btn {
  @apply text-muted-foreground hover:text-foreground;
}

/* Optional: make close look like a link */
.driver-popover .driver-popover-close-btn {
  @apply bg-transparent px-2;
}

/* Optional: arrow matches background */
.driver-popover-arrow {
  @apply text-background;
}

/* Move Zendesk launcher up so it doesn't cover mobile bottom nav */
@media (max-width: 768px) {
  iframe#launcher {
    bottom: 90px !important; /* set to your nav height + padding */
    right: 16px !important;
  }
}
